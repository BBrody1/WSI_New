<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Work Safety Index - Search</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="frontend/style.css" />
</head>

<body class="bg-gray-100 font-sans">
    <!-- ░░ Header ░░ -->
    <header class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">

                <!-- Logo + Brand -->
                <a href="index.html" class="flex items-center space-x-2">
                    <img src="/frontend/images/WSI-Logo.svg" alt="WSI Logo" class="h-10 w-auto">
                    <span class="font-semibold text-xl text-gray-800">Work Safety Index</span>
                </a>

                <!-- Desktop Nav -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" class="text-gray-600 hover:text-gray-900">Blog</a>
                    <a href="#" class="text-gray-600 hover:text-gray-900">About</a>
                    <a href="#" class="text-gray-600 hover:text-gray-900">Upgrade</a>
                    <a href="#" class="text-gray-600 hover:text-gray-900">Contact</a>
                    <a href="#" class="text-gray-600 hover:text-gray-900">Login</a>
                    <a href="#"
                        class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700">Signup</a>
                </nav>

                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button class="text-gray-600 hover:text-gray-900">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>

            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <div class="lg:flex lg:gap-x-8">
            <!-- Mobile Filters Button -->
            <button id="filterToggleBtn"
                class="lg:hidden w-full mb-4 bg-gray-200 text-gray-800 py-2 px-4 rounded-md flex items-center justify-center gap-2 relative"
                aria-expanded="false">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 4h18M4 8h16M6 12h12M9 16h6M11 20h2" />
                </svg>
                <span>Filters</span>
                <span id="mobileFilterCount" class="text-gray-600"></span>
                <span id="mobileClearFilters"
                    class="hidden ml-2 text-gray-500 hover:text-gray-700 text-sm font-bold cursor-pointer">×</span>
            </button>
            
            <!-- Sidebar Container -->
            <div id="sidebar-container">
                <!-- Sidebar HTML will be loaded here by search.js -->
            </div>

            <!-- ░░ Main results column ░░ -->
            <main class="lg:w-3/4 space-y-6">
                <!-- Search bar -->
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="w-5 h-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <input id="searchInput" type="search"
                        class="block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-md bg-white placeholder-gray-500 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                        placeholder="Search company or establishment name..." />
                </div>

                <!-- Sort + results-count -->
                <div class="flex flex-col sm:flex-row justify-between items-center">
                    <p class="text-sm text-gray-700 mb-2 sm:mb-0">
                        Search results for <strong id="searchTermDisplay" class="text-gray-900"></strong>
                        (<span id="resultsCount">0</span>)
                    </p>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-600">Sort by</span>
                        <button data-sort="relevance"
                            class="sort-button bg-blue-600 text-white px-3 py-1.5 rounded-md text-sm font-medium">
                            Relevance
                        </button>
                        <button data-sort="safety_score"
                            class="sort-button bg-gray-200 text-gray-700 hover:bg-gray-300 px-3 py-1.5 rounded-md text-sm font-medium">
                            SafetyScore
                        </button>
                        <button data-sort="year_filing_for.desc"
                            class="sort-button bg-gray-200 text-gray-700 hover:bg-gray-300 px-3 py-1.5 rounded-md text-sm font-medium">
                            Year
                        </button>
                    </div>
                </div>

                <!-- Results container -->
                <div id="resultsContainer" class="space-y-4"></div>
            </main>
        </div>
    </div>

    <script src="frontend/components/sidebar.js"></script>
    <script src="frontend/js/search.js"></script>
</body>

</html>